/*!
Backstretch - v2.0.4 - 2013-06-19
http://srobbin.com/jquery-plugins/backstretch/
Copyright (c) 2013 Scott Robbin; Licensed MIT 
*/
!function(e,t,i){e.fn.backstretch=function(n,o){return(n===i||0===n.length)&&e.error("No images were supplied for Backstretch"),0===e(t).scrollTop()&&t.scrollTo(0,0),this.each(function(){var t=e(this),i=t.data("backstretch");if(i){if("string"==typeof n&&"function"==typeof i[n])return i[n](o),void 0;o=e.extend(i.options,o),i.destroy(!0)}i=new a(this,n,o),t.data("backstretch",i)})},e.backstretch=function(t,i){return e("body").backstretch(t,i).data("backstretch")},e.expr[":"].backstretch=function(t){return e(t).data("backstretch")!==i},e.fn.backstretch.defaults={centeredX:!0,centeredY:!0,duration:5e3,fade:0};var n={left:0,top:0,overflow:"hidden",margin:0,padding:0,height:"100%",width:"100%",zIndex:-999999},o={position:"absolute",display:"none",margin:0,padding:0,border:"none",width:"auto",height:"auto",maxHeight:"none",maxWidth:"none",zIndex:-999999},a=function(i,o,a){this.options=e.extend({},e.fn.backstretch.defaults,a||{}),this.images=e.isArray(o)?o:[o],e.each(this.images,function(){e("<img />")[0].src=this}),this.isBody=i===document.body,this.$container=e(i),this.$root=this.isBody?s?e(t):e(document):this.$container,i=this.$container.children(".backstretch").first(),this.$wrap=i.length?i:e('<div class="backstretch"></div>').css(n).appendTo(this.$container),this.isBody||(i=this.$container.css("position"),o=this.$container.css("zIndex"),this.$container.css({position:"static"===i?"relative":i,zIndex:"auto"===o?0:o,background:"none"}),this.$wrap.css({zIndex:-999998})),this.$wrap.css({position:this.isBody&&s?"fixed":"absolute"}),this.index=0,this.show(this.index),e(t).on("resize.backstretch",e.proxy(this.resize,this)).on("orientationchange.backstretch",e.proxy(function(){this.isBody&&0===t.pageYOffset&&(t.scrollTo(0,1),this.resize())},this))};a.prototype={resize:function(){try{var e,i={left:0,top:0},n=this.isBody?this.$root.width():this.$root.innerWidth(),o=n,a=this.isBody?t.innerHeight?t.innerHeight:this.$root.height():this.$root.innerHeight(),s=o/this.$img.data("ratio");s>=a?(e=(s-a)/2,this.options.centeredY&&(i.top="-"+e+"px")):(s=a,o=s*this.$img.data("ratio"),e=(o-n)/2,this.options.centeredX&&(i.left="-"+e+"px")),this.$wrap.css({width:n,height:a}).find("img:not(.deleteable)").css({width:o,height:s}).css(i)}catch(r){}return this},show:function(t){if(!(Math.abs(t)>this.images.length-1)){var i=this,n=i.$wrap.find("img").addClass("deleteable"),a={relatedTarget:i.$container[0]};return i.$container.trigger(e.Event("backstretch.before",a),[i,t]),this.index=t,clearInterval(i.interval),i.$img=e("<img />").css(o).bind("load",function(o){var s=this.width||e(o.target).width();o=this.height||e(o.target).height(),e(this).data("ratio",s/o),e(this).fadeIn(i.options.speed||i.options.fade,function(){n.remove(),i.paused||i.cycle(),e(["after","show"]).each(function(){i.$container.trigger(e.Event("backstretch."+this,a),[i,t])})}),i.resize()}).appendTo(i.$wrap),i.$img.attr("src",i.images[t]),i}},next:function(){return this.show(this.index<this.images.length-1?this.index+1:0)},prev:function(){return this.show(0===this.index?this.images.length-1:this.index-1)},pause:function(){return this.paused=!0,this},resume:function(){return this.paused=!1,this.next(),this},cycle:function(){return 1<this.images.length&&(clearInterval(this.interval),this.interval=setInterval(e.proxy(function(){this.paused||this.next()},this),this.options.duration)),this},destroy:function(i){e(t).off("resize.backstretch orientationchange.backstretch"),clearInterval(this.interval),i||this.$wrap.remove(),this.$container.removeData("backstretch")}};var s,r=navigator.userAgent,l=navigator.platform,c=r.match(/AppleWebKit\/([0-9]+)/),c=!!c&&c[1],d=r.match(/Fennec\/([0-9]+)/),d=!!d&&d[1],u=r.match(/Opera Mobi\/([0-9]+)/),h=!!u&&u[1],p=r.match(/MSIE ([0-9]+)/),p=!!p&&p[1];s=!((-1<l.indexOf("iPhone")||-1<l.indexOf("iPad")||-1<l.indexOf("iPod"))&&c&&534>c||t.operamini&&"[object OperaMini]"==={}.toString.call(t.operamini)||u&&7458>h||-1<r.indexOf("Android")&&c&&533>c||d&&6>d||"palmGetResource"in t&&c&&534>c||-1<r.indexOf("MeeGo")&&-1<r.indexOf("NokiaBrowser/8.5.0")||p&&6>=p)}(jQuery,window),/*!
jQuery ColorBox v1.4.3 - 2013-02-18
(c) 2013 Jack Moore - jacklmoore.com/colorbox
license: http://www.opensource.org/licenses/mit-license.php
*/
!function(e,t,i){function n(i,n,o){var a=t.createElement(i);return n&&(a.id=Z+n),o&&(a.style.cssText=o),e(a)}function o(e){var t=T.length,i=(j+e)%t;return 0>i?t+i:i}function a(e,t){return Math.round((/%/.test(e)?("x"===t?C.width():C.height())/100:1)*parseInt(e,10))}function s(e,t){return e.photo||e.photoRegex.test(t)}function r(e,t){return e.retinaUrl&&i.devicePixelRatio>1?t.replace(e.photoRegex,e.retinaSuffix):t}function l(e){"contains"in m[0]&&!m[0].contains(e.target)&&(e.stopPropagation(),m.focus())}function c(){var t,i=e.data($,U);null==i?(L=e.extend({},X),console&&console.log&&console.log("Error: cboxElement missing settings object")):L=e.extend({},i);for(t in L)e.isFunction(L[t])&&"on"!==t.slice(0,2)&&(L[t]=L[t].call($));L.rel=L.rel||$.rel||e($).data("rel")||"nofollow",L.href=L.href||e($).attr("href"),L.title=L.title||$.title,"string"==typeof L.href&&(L.href=e.trim(L.href))}function d(i,n){e(t).trigger(i),ct.trigger(i),e.isFunction(n)&&n.call($)}function u(){var e,t,i,n,o,a=Z+"Slideshow_",s="click."+Z;L.slideshow&&T[1]?(t=function(){clearTimeout(e)},i=function(){(L.loop||T[j+1])&&(e=setTimeout(K.next,L.slideshowSpeed))},n=function(){I.html(L.slideshowStop).unbind(s).one(s,o),ct.bind(it,i).bind(tt,t).bind(nt,o),m.removeClass(a+"off").addClass(a+"on")},o=function(){t(),ct.unbind(it,i).unbind(tt,t).unbind(nt,o),I.html(L.slideshowStart).unbind(s).one(s,function(){K.next(),n()}),m.removeClass(a+"on").addClass(a+"off")},L.slideshowAuto?n():o()):m.removeClass(a+"off "+a+"on")}function h(i){G||($=i,c(),T=e($),j=0,"nofollow"!==L.rel&&(T=e("."+J).filter(function(){var t,i=e.data(this,U);return i&&(t=e(this).data("rel")||i.rel||this.rel),t===L.rel}),j=T.index($),-1===j&&(T=T.add($),j=T.length-1)),v.css({opacity:parseFloat(L.opacity),cursor:L.overlayClose?"pointer":"auto",visibility:"visible"}).show(),F||(F=R=!0,m.css({visibility:"hidden",display:"block"}),k=n(dt,"LoadedContent","width:0; height:0; overflow:hidden").appendTo(w),D=b.height()+S.height()+w.outerHeight(!0)-w.height(),_=x.width()+y.width()+w.outerWidth(!0)-w.width(),H=k.outerHeight(!0),B=k.outerWidth(!0),L.w=a(L.initialWidth,"x"),L.h=a(L.initialHeight,"y"),K.position(),rt&&C.bind("resize."+lt+" scroll."+lt,function(){v.css({width:C.width(),height:C.height(),top:C.scrollTop(),left:C.scrollLeft()})}).trigger("resize."+lt),u(),d(et,L.onOpen),W.add(P).hide(),z.html(L.close).show(),m.focus(),t.addEventListener&&(t.addEventListener("focus",l,!0),ct.one(ot,function(){t.removeEventListener("focus",l,!0)})),L.returnFocus&&ct.one(ot,function(){e($).focus()})),K.load(!0))}function p(){!m&&t.body&&(V=!1,C=e(i),m=n(dt).attr({id:U,"class":st?Z+(rt?"IE6":"IE"):"",role:"dialog",tabindex:"-1"}).hide(),v=n(dt,"Overlay",rt?"position:absolute":"").hide(),A=n(dt,"LoadingOverlay").add(n(dt,"LoadingGraphic")),g=n(dt,"Wrapper"),w=n(dt,"Content").append(P=n(dt,"Title"),M=n(dt,"Current"),O=n("button","Previous"),E=n("button","Next"),I=n("button","Slideshow"),A,z=n("button","Close")),g.append(n(dt).append(n(dt,"TopLeft"),b=n(dt,"TopCenter"),n(dt,"TopRight")),n(dt,!1,"clear:left").append(x=n(dt,"MiddleLeft"),w,y=n(dt,"MiddleRight")),n(dt,!1,"clear:left").append(n(dt,"BottomLeft"),S=n(dt,"BottomCenter"),n(dt,"BottomRight"))).find("div div").css({"float":"left"}),N=n(dt,!1,"position:absolute; width:9999px; visibility:hidden; display:none"),W=E.add(O).add(M).add(I),e(t.body).append(v,m.append(g,N)))}function f(){function i(e){e.which>1||e.shiftKey||e.altKey||e.metaKey||(e.preventDefault(),h(this))}return m?(V||(V=!0,E.click(function(){K.next()}),O.click(function(){K.prev()}),z.click(function(){K.close()}),v.click(function(){L.overlayClose&&K.close()}),e(t).bind("keydown."+Z,function(e){var t=e.keyCode;F&&L.escKey&&27===t&&(e.preventDefault(),K.close()),F&&L.arrowKey&&T[1]&&!e.altKey&&(37===t?(e.preventDefault(),O.click()):39===t&&(e.preventDefault(),E.click()))}),e.isFunction(e.fn.on)?e(t).on("click."+Z,"."+J,i):e("."+J).live("click."+Z,i)),!0):!1}var v,m,g,w,b,x,y,S,T,C,k,N,A,P,M,I,E,O,z,W,L,D,_,H,B,$,j,q,F,R,G,Q,K,Y,V,X={transition:"elastic",speed:300,width:!1,initialWidth:"600",innerWidth:!1,maxWidth:!1,height:!1,initialHeight:"450",innerHeight:!1,maxHeight:!1,scalePhotos:!0,scrolling:!0,inline:!1,html:!1,iframe:!1,fastIframe:!0,photo:!1,href:!1,title:!1,rel:!1,opacity:.9,preloading:!0,className:!1,retinaImage:!1,retinaUrl:!1,retinaSuffix:"@2x.$1",current:"image {current} of {total}",previous:"previous",next:"next",close:"close",xhrError:"This content failed to load.",imgError:"This image failed to load.",open:!1,returnFocus:!0,reposition:!0,loop:!0,slideshow:!1,slideshowAuto:!0,slideshowSpeed:2500,slideshowStart:"start slideshow",slideshowStop:"stop slideshow",photoRegex:/\.(gif|png|jp(e|g|eg)|bmp|ico)((#|\?).*)?$/i,onOpen:!1,onLoad:!1,onComplete:!1,onCleanup:!1,onClosed:!1,overlayClose:!0,escKey:!0,arrowKey:!0,top:!1,bottom:!1,left:!1,right:!1,fixed:!1,data:void 0},U="colorbox",Z="cbox",J=Z+"Element",et=Z+"_open",tt=Z+"_load",it=Z+"_complete",nt=Z+"_cleanup",ot=Z+"_closed",at=Z+"_purge",st=!e.support.leadingWhitespace,rt=st&&!i.XMLHttpRequest,lt=Z+"_IE6",ct=e({}),dt="div";e.colorbox||(e(p),K=e.fn[U]=e[U]=function(t,i){var n=this;if(t=t||{},p(),f()){if(e.isFunction(n))n=e("<a/>"),t.open=!0;else if(!n[0])return n;i&&(t.onComplete=i),n.each(function(){e.data(this,U,e.extend({},e.data(this,U)||X,t))}).addClass(J),(e.isFunction(t.open)&&t.open.call(n)||t.open)&&h(n[0])}return n},K.position=function(e,t){function i(e){b[0].style.width=S[0].style.width=w[0].style.width=parseInt(e.style.width,10)-_+"px",w[0].style.height=x[0].style.height=y[0].style.height=parseInt(e.style.height,10)-D+"px"}var n,o,s,r=0,l=0,c=m.offset();C.unbind("resize."+Z),m.css({top:-9e4,left:-9e4}),o=C.scrollTop(),s=C.scrollLeft(),L.fixed&&!rt?(c.top-=o,c.left-=s,m.css({position:"fixed"})):(r=o,l=s,m.css({position:"absolute"})),l+=L.right!==!1?Math.max(C.width()-L.w-B-_-a(L.right,"x"),0):L.left!==!1?a(L.left,"x"):Math.round(Math.max(C.width()-L.w-B-_,0)/2),r+=L.bottom!==!1?Math.max(C.height()-L.h-H-D-a(L.bottom,"y"),0):L.top!==!1?a(L.top,"y"):Math.round(Math.max(C.height()-L.h-H-D,0)/2),m.css({top:c.top,left:c.left,visibility:"visible"}),e=m.width()===L.w+B&&m.height()===L.h+H?0:e||0,g[0].style.width=g[0].style.height="9999px",n={width:L.w+B+_,height:L.h+H+D,top:r,left:l},0===e&&m.css(n),m.dequeue().animate(n,{duration:e,complete:function(){i(this),R=!1,g[0].style.width=L.w+B+_+"px",g[0].style.height=L.h+H+D+"px",L.reposition&&setTimeout(function(){C.bind("resize."+Z,K.position)},1),t&&t()},step:function(){i(this)}})},K.resize=function(e){F&&(e=e||{},e.width&&(L.w=a(e.width,"x")-B-_),e.innerWidth&&(L.w=a(e.innerWidth,"x")),k.css({width:L.w}),e.height&&(L.h=a(e.height,"y")-H-D),e.innerHeight&&(L.h=a(e.innerHeight,"y")),e.innerHeight||e.height||(k.css({height:"auto"}),L.h=k.height()),k.css({height:L.h}),K.position("none"===L.transition?0:L.speed))},K.prep=function(t){function i(){return L.w=L.w||k.width(),L.w=L.mw&&L.mw<L.w?L.mw:L.w,L.w}function a(){return L.h=L.h||k.height(),L.h=L.mh&&L.mh<L.h?L.mh:L.h,L.h}if(F){var l,c="none"===L.transition?0:L.speed;k.empty().remove(),k=n(dt,"LoadedContent").append(t),k.hide().appendTo(N.show()).css({width:i(),overflow:L.scrolling?"auto":"hidden"}).css({height:a()}).prependTo(w),N.hide(),e(q).css({"float":"none"}),l=function(){function t(){st&&m[0].style.removeAttribute("filter")}var i,a,l=T.length,u="frameBorder",h="allowTransparency";F&&(a=function(){clearTimeout(Q),A.hide(),d(it,L.onComplete)},st&&q&&k.fadeIn(100),P.html(L.title).add(k).show(),l>1?("string"==typeof L.current&&M.html(L.current.replace("{current}",j+1).replace("{total}",l)).show(),E[L.loop||l-1>j?"show":"hide"]().html(L.next),O[L.loop||j?"show":"hide"]().html(L.previous),L.slideshow&&I.show(),L.preloading&&e.each([o(-1),o(1)],function(){var t,i,n=T[this],o=e.data(n,U);o&&o.href?(t=o.href,e.isFunction(t)&&(t=t.call(n))):t=e(n).attr("href"),t&&s(o,t)&&(t=r(o,t),i=new Image,i.src=t)})):W.hide(),L.iframe?(i=n("iframe")[0],u in i&&(i[u]=0),h in i&&(i[h]="true"),L.scrolling||(i.scrolling="no"),e(i).attr({src:L.href,name:(new Date).getTime(),"class":Z+"Iframe",allowFullScreen:!0,webkitAllowFullScreen:!0,mozallowfullscreen:!0}).one("load",a).appendTo(k),ct.one(at,function(){i.src="//about:blank"}),L.fastIframe&&e(i).trigger("load")):a(),"fade"===L.transition?m.fadeTo(c,1,t):t())},"fade"===L.transition?m.fadeTo(c,0,function(){K.position(0,l)}):K.position(c,l)}},K.load=function(t){var o,l,u,h=K.prep;R=!0,q=!1,$=T[j],t||c(),Y&&m.add(v).removeClass(Y),L.className&&m.add(v).addClass(L.className),Y=L.className,d(at),d(tt,L.onLoad),L.h=L.height?a(L.height,"y")-H-D:L.innerHeight&&a(L.innerHeight,"y"),L.w=L.width?a(L.width,"x")-B-_:L.innerWidth&&a(L.innerWidth,"x"),L.mw=L.w,L.mh=L.h,L.maxWidth&&(L.mw=a(L.maxWidth,"x")-B-_,L.mw=L.w&&L.w<L.mw?L.w:L.mw),L.maxHeight&&(L.mh=a(L.maxHeight,"y")-H-D,L.mh=L.h&&L.h<L.mh?L.h:L.mh),o=L.href,Q=setTimeout(function(){A.show()},100),L.inline?(u=n(dt).hide().insertBefore(e(o)[0]),ct.one(at,function(){u.replaceWith(k.children())}),h(e(o))):L.iframe?h(" "):L.html?h(L.html):s(L,o)?(o=r(L,o),e(q=new Image).addClass(Z+"Photo").bind("error",function(){L.title=!1,h(n(dt,"Error").html(L.imgError))}).one("load",function(){var e;L.retinaImage&&i.devicePixelRatio>1&&(q.height=q.height/i.devicePixelRatio,q.width=q.width/i.devicePixelRatio),L.scalePhotos&&(l=function(){q.height-=q.height*e,q.width-=q.width*e},L.mw&&q.width>L.mw&&(e=(q.width-L.mw)/q.width,l()),L.mh&&q.height>L.mh&&(e=(q.height-L.mh)/q.height,l())),L.h&&(q.style.marginTop=Math.max(L.mh-q.height,0)/2+"px"),T[1]&&(L.loop||T[j+1])&&(q.style.cursor="pointer",q.onclick=function(){K.next()}),st&&(q.style.msInterpolationMode="bicubic"),setTimeout(function(){h(q)},1)}),setTimeout(function(){q.src=o},1)):o&&N.load(o,L.data,function(t,i){h("error"===i?n(dt,"Error").html(L.xhrError):e(this).contents())})},K.next=function(){!R&&T[1]&&(L.loop||T[j+1])&&(j=o(1),K.load())},K.prev=function(){!R&&T[1]&&(L.loop||j)&&(j=o(-1),K.load())},K.close=function(){F&&!G&&(G=!0,F=!1,d(nt,L.onCleanup),C.unbind("."+Z+" ."+lt),v.fadeTo(200,0),m.stop().fadeTo(300,0,function(){m.add(v).css({opacity:1,cursor:"auto"}).hide(),d(at),k.empty().remove(),setTimeout(function(){G=!1,d(ot,L.onClosed)},1)}))},K.remove=function(){e([]).add(m).add(v).remove(),m=null,e("."+J).removeData(U).removeClass(J),e(t).unbind("click."+Z)},K.element=function(){return e($)},K.settings=X)}(jQuery,document,window),/*!
jQuery CountTo
(c) 2014 Matt Huggins - https://github.com/mhuggins/jquery-countTo
license: http://www.opensource.org/licenses/mit-license.php
*/
!function(e){function t(e,t){return e.toFixed(t.decimals)}e.fn.countTo=function(t){return t=t||{},e(this).each(function(){function i(){d+=s,c++,n(d),"function"==typeof o.onUpdate&&o.onUpdate.call(r,d),c>=a&&(l.removeData("countTo"),clearInterval(u.interval),d=o.to,"function"==typeof o.onComplete&&o.onComplete.call(r,d))}function n(e){var t=o.formatter.call(r,e,o);l.text(t)}var o=e.extend({},e.fn.countTo.defaults,{from:e(this).data("from"),to:e(this).data("to"),speed:e(this).data("speed"),refreshInterval:e(this).data("refresh-interval"),decimals:e(this).data("decimals")},t),a=Math.ceil(o.speed/o.refreshInterval),s=(o.to-o.from)/a,r=this,l=e(this),c=0,d=o.from,u=l.data("countTo")||{};l.data("countTo",u),u.interval&&clearInterval(u.interval),u.interval=setInterval(i,o.refreshInterval),n(d)})},e.fn.countTo.defaults={from:0,to:0,speed:1e3,refreshInterval:100,decimals:0,formatter:t,onUpdate:null,onComplete:null}}(jQuery),/*!
FitVids 1.0.3
Copyright 2013, Chris Coyier - http://css-tricks.com + Dave Rupert - http://daverupert.com
Credit to Thierry Koblentz - http://www.alistapart.com/articles/creating-intrinsic-ratios-for-video/
Released under the WTFPL license - http://sam.zoy.org/wtfpl/
Date: Thu Sept 01 18:00:00 2011 -0500
*/
!function(e){"use strict";e.fn.fitVids=function(t){var i={customSelector:null};if(!document.getElementById("fit-vids-style")){var n=document.createElement("div"),o=document.getElementsByTagName("base")[0]||document.getElementsByTagName("script")[0],a="&shy;<style>.fluid-width-video-wrapper{width:100%;position:relative;padding:0;}.fluid-width-video-wrapper iframe,.fluid-width-video-wrapper object,.fluid-width-video-wrapper embed {position:absolute;top:0;left:0;width:100%;height:100%;}</style>";n.className="fit-vids-style",n.id="fit-vids-style",n.style.display="none",n.innerHTML=a,o.parentNode.insertBefore(n,o)}return t&&e.extend(i,t),this.each(function(){var t=["iframe[src*='player.vimeo.com']","iframe[src*='youtube.com']","iframe[src*='youtube-nocookie.com']","iframe[src*='kickstarter.com'][src*='video.html']","object","embed"];i.customSelector&&t.push(i.customSelector);var n=e(this).find(t.join(","));n=n.not("object object"),n.each(function(){var t=e(this);if(!("embed"===this.tagName.toLowerCase()&&t.parent("object").length||t.parent(".fluid-width-video-wrapper").length)){var i="object"===this.tagName.toLowerCase()||t.attr("height")&&!isNaN(parseInt(t.attr("height"),10))?parseInt(t.attr("height"),10):t.height(),n=isNaN(parseInt(t.attr("width"),10))?t.width():parseInt(t.attr("width"),10),o=i/n;if(!t.attr("id")){var a="fitvid"+Math.floor(999999*Math.random());t.attr("id",a)}t.wrap('<div class="fluid-width-video-wrapper"></div>').parent(".fluid-width-video-wrapper").css("padding-top",100*o+"%"),t.removeAttr("height").removeAttr("width")}})})}}(window.jQuery||window.Zepto),function(e,t,i,n){"use strict";function o(t,i){this.element=t,this.options=e.extend({},s,i),this._defaults=s,this._name=a,this.init()}var a="photosetGrid",s={width:"100%",gutter:"0px",highresLinks:!1,lowresWidth:500,rel:"",onInit:function(){},onComplete:function(){}};o.prototype={init:function(){this.options.onInit(),this._setupRows(this.element,this.options),this._setupColumns(this.element,this.options)},_callback:function(e){this.options.onComplete(e)},_setupRows:function(t,i){if(i.layout)this.layout=i.layout;else if(e(t).attr("data-layout"))this.layout=e(t).attr("data-layout");else{for(var n="",o=1,a=0;a<e(t).find("img").length;a++)n+=o.toString();this.layout=n}this.rows=this.layout.split("");for(var s in this.rows)this.rows[s]=parseInt(this.rows[s],10);var r=e(t).find("img"),l=0;e.each(this.rows,function(e,t){var i=l,n=l+t;r.slice(i,n).wrapAll('<div class="photoset-row cols-'+t+'"></div>'),l=n}),e(t).find(".photoset-row:not(:last-child)").css({"margin-bottom":i.gutter})},_setupColumns:function(i,n){var o=this,a=function(o){function a(){var t=e(i).width().toString();t!==e(i).attr("data-width")&&(s.each(function(){var t=e(this).find("img:eq(0)");e(this).find("img").each(function(){var i=e(this);i.attr("height")<t.attr("height")&&(t=e(this)),parseInt(i.css("width"),10)>n.lowresWidth&&i.attr("data-highres")&&i.attr("src",i.attr("data-highres"))});var i=t.attr("height")*parseInt(t.css("width"),10)/t.attr("width"),o=Math.floor(.025*i);e(this).height(i-o),e(this).find("img").each(function(){var t=e(this).attr("height")*parseInt(e(this).css("width"),10)/e(this).attr("width"),n=.5*(i-t)+"px";e(this).css({"margin-top":n})})}),e(i).attr("data-width",t))}var s=e(i).find(".photoset-row"),r=e(i).find("img");n.highresLinks?(r.each(function(){var t;// If a highres image exists link it up!
t=e(this).attr("data-highres")?e(this).attr("data-highres"):e(this).attr("src"),e(this).wrapAll('<a href="'+t+'" class="photoset-cell highres-link" />')}),n.rel&&r.parent().attr("rel",n.rel)):r.each(function(){e(this).wrapAll('<div class="photoset-cell" />')});var l=e(i).find(".photoset-cell"),c=e(i).find(".cols-1 .photoset-cell"),d=e(i).find(".cols-2 .photoset-cell"),u=e(i).find(".cols-3 .photoset-cell"),h=e(i).find(".cols-4 .photoset-cell"),p=e(i).find(".cols-5 .photoset-cell");e(i).css({width:n.width}),s.css({clear:"left",display:"block",overflow:"hidden"}),l.css({"float":"left",display:"block","line-height":"0","-webkit-box-sizing":"border-box","-moz-box-sizing":"border-box","box-sizing":"border-box"}),r.css({width:"100%",height:"auto"}),o&&r.each(function(){e(this).attr("height",e(this).height()),e(this).attr("width",e(this).width())}),c.css({width:"100%"}),d.css({width:"50%"}),u.css({width:"33.3%"}),h.css({width:"25%"}),p.css({width:"20%"});var f=parseInt(n.gutter,10);e(i).find(".photoset-cell:not(:last-child)").css({"padding-right":f/2+"px"}),e(i).find(".photoset-cell:not(:first-child)").css({"padding-left":f/2+"px"}),a(),e(t).on("resize",function(){a()})},s=!0,r=!0;e(i).find("img").each(function(){r&=!!e(this).attr("height")&!!e(this).attr("width")}),s=!r,s?e(i).imagesLoaded(function(){a(s),o._callback(i)}):(a(s),o._callback(i))}},e.fn[a]=function(t){return this.each(function(){e.data(this,"plugin_"+a)||e.data(this,"plugin_"+a,new o(this,t))})};/*!
     * jQuery imagesLoaded plugin v2.1.1
     * http://github.com/desandro/imagesloaded
     *
     * MIT License. by Paul Irish et al.
     */
var r="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==";e.fn.imagesLoaded=function(t){function i(){var i=e(h),n=e(p);l&&(p.length?l.reject(d,i,n):l.resolve(d)),e.isFunction(t)&&t.call(s,d,i,n)}function o(e){a(e.target,"error"===e.type)}function a(t,n){t.src!==r&&-1===e.inArray(t,u)&&(u.push(t),n?p.push(t):h.push(t),e.data(t,"imagesLoaded",{isBroken:n,src:t.src}),c&&l.notifyWith(e(t),[n,d,e(h),e(p)]),d.length===u.length&&(setTimeout(i),d.unbind(".imagesLoaded",o)))}var s=this,l=e.isFunction(e.Deferred)?e.Deferred():0,c=e.isFunction(l.notify),d=s.find("img").add(s.filter("img")),u=[],h=[],p=[];return e.isPlainObject(t)&&e.each(t,function(e,i){"callback"===e?t=i:l&&l[e](i)}),d.length?d.bind("load.imagesLoaded error.imagesLoaded",o).each(function(t,i){var o=i.src,s=e.data(i,"imagesLoaded");return s&&s.src===o?(a(i,s.isBroken),void 0):i.complete&&i.naturalWidth!==n?(a(i,0===i.naturalWidth||0===i.naturalHeight),void 0):((i.readyState||i.complete)&&(i.src=r,i.src=o),void 0)}):i(),l?l.promise(s):s};var l,c,d,u=e.event,h={_:0},p=0;l=u.special.throttledresize={setup:function(){e(this).on("resize",l.handler)},teardown:function(){e(this).off("resize",l.handler)},handler:function(t,i){var n=this,o=arguments;c=!0,d||(setInterval(function(){p++,(p>l.threshold&&c||i)&&(t.type="throttledresize",u.dispatch.apply(n,o),c=!1,p=0),p>9&&(e(h).stop(),d=!1,p=0)},30),d=!0)},threshold:0}}(jQuery,window,document),/*!
Smooth Scroll - v1.4.13 - 2013-11-02
https://github.com/kswedberg/jquery-smooth-scroll
Copyright (c) 2013 Karl Swedberg
Licensed MIT (https://github.com/kswedberg/jquery-smooth-scroll/blob/master/LICENSE-MIT)
*/
function(e){function t(e){return e.replace(/(:|\.)/g,"\\$1")}var i="1.4.13",n={},o={exclude:[],excludeWithin:[],offset:0,direction:"top",scrollElement:null,scrollTarget:null,beforeScroll:function(){},afterScroll:function(){},easing:"swing",speed:400,autoCoefficent:2,preventDefault:!0},a=function(t){var i=[],n=!1,o=t.dir&&"left"==t.dir?"scrollLeft":"scrollTop";return this.each(function(){if(this!=document&&this!=window){var t=e(this);t[o]()>0?i.push(this):(t[o](1),n=t[o]()>0,n&&i.push(this),t[o](0))}}),i.length||this.each(function(){"BODY"===this.nodeName&&(i=[this])}),"first"===t.el&&i.length>1&&(i=[i[0]]),i};e.fn.extend({scrollable:function(e){var t=a.call(this,{dir:e});return this.pushStack(t)},firstScrollable:function(e){var t=a.call(this,{el:"first",dir:e});return this.pushStack(t)},smoothScroll:function(i,n){if(i=i||{},"options"===i)return n?this.each(function(){var t=e(this),i=e.extend(t.data("ssOpts")||{},n);e(this).data("ssOpts",i)}):this.first().data("ssOpts");var o=e.extend({},e.fn.smoothScroll.defaults,i),a=e.smoothScroll.filterPath(location.pathname);return this.unbind("click.smoothscroll").bind("click.smoothscroll",function(i){var n=this,s=e(this),r=e.extend({},o,s.data("ssOpts")||{}),l=o.exclude,c=r.excludeWithin,d=0,u=0,h=!0,p={},f=location.hostname===n.hostname||!n.hostname,v=r.scrollTarget||(e.smoothScroll.filterPath(n.pathname)||a)===a,m=t(n.hash);if(r.scrollTarget||f&&v&&m){for(;h&&l.length>d;)s.is(t(l[d++]))&&(h=!1);for(;h&&c.length>u;)s.closest(c[u++]).length&&(h=!1)}else h=!1;h&&(r.preventDefault&&i.preventDefault(),e.extend(p,r,{scrollTarget:r.scrollTarget||m,link:n}),e.smoothScroll(p))}),this}}),e.smoothScroll=function(t,i){if("options"===t&&"object"==typeof i)return e.extend(n,i);var o,a,s,r,l=0,c="offset",d="scrollTop",u={},h={};"number"==typeof t?(o=e.extend({link:null},e.fn.smoothScroll.defaults,n),s=t):(o=e.extend({link:null},e.fn.smoothScroll.defaults,t||{},n),o.scrollElement&&(c="position","static"==o.scrollElement.css("position")&&o.scrollElement.css("position","relative"))),d="left"==o.direction?"scrollLeft":d,o.scrollElement?(a=o.scrollElement,/^(?:HTML|BODY)$/.test(a[0].nodeName)||(l=a[d]())):a=e("html, body").firstScrollable(o.direction),o.beforeScroll.call(a,o),s="number"==typeof t?t:i||e(o.scrollTarget)[c]()&&e(o.scrollTarget)[c]()[o.direction]||0,u[d]=s+l+o.offset,r=o.speed,"auto"===r&&(r=u[d]||a.scrollTop(),r/=o.autoCoefficent),h={duration:r,easing:o.easing,complete:function(){o.afterScroll.call(o.link,o)}},o.step&&(h.step=o.step),a.length?a.stop().animate(u,h):o.afterScroll.call(o.link,o)},e.smoothScroll.version=i,e.smoothScroll.filterPath=function(e){return e.replace(/^\//,"").replace(/(?:index|default).[a-zA-Z]{3,4}$/,"").replace(/\/$/,"")},e.fn.smoothScroll.defaults=o}(jQuery),/*!
Swipebox v1.2.9
Constantin Saguin csag.co
MIT License
github.com/brutaldesign/swipebox
*/
!function(e,t,i,n){i.swipebox=function(o,a){var s,r,l={useCSS:!0,useSVG:!0,initialIndexOnArray:0,closeBySwipe:!0,hideBarsOnMobile:!0,hideBarsDelay:3e3,videoMaxWidth:1140,vimeoColor:"CCCCCC",beforeOpen:null,afterOpen:null,afterClose:null},c=this,d=[],u=o.selector,h=i(u),p=navigator.userAgent.match(/(iPad)|(iPhone)|(iPod)|(Android)|(PlayBook)|(BB10)|(BlackBerry)|(Opera Mini)|(IEMobile)|(webOS)|(MeeGo)/i),f=null!==p||t.createTouch!==n||"ontouchstart"in e||"onmsgesturechange"in e||navigator.msMaxTouchPoints,v=!!t.createElementNS&&!!t.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect,m=e.innerWidth?e.innerWidth:i(e).width(),g=e.innerHeight?e.innerHeight:i(e).height(),w='<div id="swipebox-overlay">					<div id="swipebox-slider"></div>					<div id="swipebox-caption"></div>					<div id="swipebox-action">						<a id="swipebox-close"></a>						<a id="swipebox-prev"></a>						<a id="swipebox-next"></a>					</div>			</div>';c.settings={},c.init=function(){c.settings=i.extend({},l,a),i.isArray(o)?(d=o,s.target=i(e),s.init(c.settings.initialIndexOnArray)):i(t).on("click",u,function(e){if("slide current"===e.target.parentNode.className)return!1;i.isArray(o)||(s.destroy(),r=i(u),s.actions()),d=[];var t,n,a;a||(n="data-rel",a=i(this).attr(n)),a||(n="rel",a=i(this).attr(n)),r=a&&""!==a&&"nofollow"!==a?h.filter("["+n+'="'+a+'"]'):i(u),r.each(function(){var e=null,t=null;i(this).attr("title")&&(e=i(this).attr("title")),i(this).attr("href")&&(t=i(this).attr("href")),d.push({href:t,title:e})}),t=r.index(i(this)),e.preventDefault(),e.stopPropagation(),s.target=i(e.target),s.init(t)})},s={init:function(e){c.settings.beforeOpen&&c.settings.beforeOpen(),this.target.trigger("swipebox-start"),i.swipebox.isOpen=!0,this.build(),this.openSlide(e),this.openMedia(e),this.preloadMedia(e+1),this.preloadMedia(e-1),c.settings.afterOpen&&c.settings.afterOpen()},build:function(){var e,t=this;i("body").append(w),t.doCssTrans()&&(i("#swipebox-slider").css({"-webkit-transition":"left 0.4s ease","-moz-transition":"left 0.4s ease","-o-transition":"left 0.4s ease","-khtml-transition":"left 0.4s ease",transition:"left 0.4s ease"}),i("#swipebox-overlay").css({"-webkit-transition":"opacity 1s ease","-moz-transition":"opacity 1s ease","-o-transition":"opacity 1s ease","-khtml-transition":"opacity 1s ease",transition:"opacity 1s ease"}),i("#swipebox-action, #swipebox-caption").css({"-webkit-transition":"0.5s","-moz-transition":"0.5s","-o-transition":"0.5s","-khtml-transition":"0.5s",transition:"0.5s"})),v&&c.settings.useSVG===!0&&(e=i("#swipebox-action #swipebox-close").css("background-image"),e=e.replace("png","svg"),i("#swipebox-action #swipebox-prev,#swipebox-action #swipebox-next,#swipebox-action #swipebox-close").css({"background-image":e})),p&&c.settings.hideBarsOnMobile===!0&&i("#swipebox-action, #swipebox-caption").hide(),i.each(d,function(){i("#swipebox-slider").append('<div class="slide"></div>')}),t.setDim(),t.actions(),f&&t.gesture(),t.keyboard(),t.animBars(),t.resize()},setDim:function(){var t,n,o={};"onorientationchange"in e?e.addEventListener("orientationchange",function(){0===e.orientation?(t=m,n=g):(90===e.orientation||-90===e.orientation)&&(t=g,n=m)},!1):(t=e.innerWidth?e.innerWidth:i(e).width(),n=e.innerHeight?e.innerHeight:i(e).height()),o={width:t,height:n},i("#swipebox-overlay").css(o)},resize:function(){var t=this;i(e).resize(function(){t.setDim()}).resize()},supportTransition:function(){var e,i="transition WebkitTransition MozTransition OTransition msTransition KhtmlTransition".split(" ");for(e=0;e<i.length;e++)if(t.createElement("div").style[i[e]]!==n)return i[e];return!1},doCssTrans:function(){return c.settings.useCSS&&this.supportTransition()?!0:void 0},gesture:function(){var e=this,t=null,n=null,o=!1,a=10,s=50,r={},l={},d=i("#swipebox-caption, #swipebox-action"),u=i("#swipebox-slider");d.addClass("visible-bars"),e.setTimeout(),i("body").bind("touchstart",function(e){return i(this).addClass("touching"),l=e.originalEvent.targetTouches[0],r.pageX=e.originalEvent.targetTouches[0].pageX,r.pageY=e.originalEvent.targetTouches[0].pageY,i(".touching").bind("touchmove",function(e){if(e.preventDefault(),e.stopPropagation(),l=e.originalEvent.targetTouches[0],c.settings.closeBySwipe&&(n=l.pageY-r.pageY,Math.abs(n)>=s||o)){var t=.75-Math.abs(n)/u.height();u.css({top:n+"px"}),u.css({opacity:t}),o=!0}}),!1}).bind("touchend",function(s){if(s.preventDefault(),s.stopPropagation(),c.settings.closeBySwipe){if(u.css("opacity")<=.5){var h=n>0?u.height():-u.height();u.animate({top:h+"px",opacity:0},300,function(){e.closeSlide()})}else u.animate({top:0,opacity:1},300);if(o)return void(o=!1)}t=l.pageX-r.pageX,t>=a?e.getPrev():-a>=t?e.getNext():d.hasClass("visible-bars")?(e.clearTimeout(),e.hideBars()):(e.showBars(),e.setTimeout()),i(".touching").off("touchmove").removeClass("touching")})},setTimeout:function(){if(c.settings.hideBarsDelay>0){var t=this;t.clearTimeout(),t.timeout=e.setTimeout(function(){t.hideBars()},c.settings.hideBarsDelay)}},clearTimeout:function(){e.clearTimeout(this.timeout),this.timeout=null},showBars:function(){var e=i("#swipebox-caption, #swipebox-action");this.doCssTrans()?e.addClass("visible-bars"):(i("#swipebox-caption").animate({top:0},500),i("#swipebox-action").animate({bottom:0},500),setTimeout(function(){e.addClass("visible-bars")},1e3))},hideBars:function(){var e=i("#swipebox-caption, #swipebox-action");this.doCssTrans()?e.removeClass("visible-bars"):(i("#swipebox-caption").animate({top:"-50px"},500),i("#swipebox-action").animate({bottom:"-50px"},500),setTimeout(function(){e.removeClass("visible-bars")},1e3))},animBars:function(){var e=this,t=i("#swipebox-caption, #swipebox-action");t.addClass("visible-bars"),e.setTimeout(),i("#swipebox-slider").click(function(){t.hasClass("visible-bars")||(e.showBars(),e.setTimeout())}),i("#swipebox-action").hover(function(){e.showBars(),t.addClass("visible-bars"),e.clearTimeout()},function(){t.removeClass("visible-bars"),e.setTimeout()})},keyboard:function(){var t=this;i(e).bind("keyup",function(e){e.preventDefault(),e.stopPropagation(),37===e.keyCode?t.getPrev():39===e.keyCode?t.getNext():27===e.keyCode&&t.closeSlide()})},actions:function(){var e=this,t="touchend click";d.length<2?i("#swipebox-prev, #swipebox-next").hide():(i("#swipebox-prev").bind(t,function(t){t.preventDefault(),t.stopPropagation(),e.getPrev(),e.setTimeout()}),i("#swipebox-next").bind(t,function(t){t.preventDefault(),t.stopPropagation(),e.getNext(),e.setTimeout()})),i("#swipebox-close").bind(t,function(){e.closeSlide()})},setSlide:function(e,t){t=t||!1;var n=i("#swipebox-slider");this.doCssTrans()?n.css({left:100*-e+"%"}):n.animate({left:100*-e+"%"}),i("#swipebox-slider .slide").removeClass("current"),i("#swipebox-slider .slide").eq(e).addClass("current"),this.setTitle(e),t&&n.fadeIn(),i("#swipebox-prev, #swipebox-next").removeClass("disabled"),0===e?i("#swipebox-prev").addClass("disabled"):e===d.length-1&&i("#swipebox-next").addClass("disabled")},openSlide:function(t){i("html").addClass("swipebox-html"),f&&i("html").addClass("swipebox-touch"),i(e).trigger("resize"),this.setSlide(t,!0)},preloadMedia:function(e){var t=this,i=null;d[e]!==n&&(i=d[e].href),t.isVideo(i)?t.openMedia(e):setTimeout(function(){t.openMedia(e)},1e3)},openMedia:function(e){var t=this,o=null;return d[e]!==n&&(o=d[e].href),0>e||e>=d.length?!1:void(t.isVideo(o)?i("#swipebox-slider .slide").eq(e).html(t.getVideo(o)):t.loadMedia(o,function(){i("#swipebox-slider .slide").eq(e).html(this)}))},setTitle:function(e){var t=null;i("#swipebox-caption").empty(),d[e]!==n&&(t=d[e].title),t&&i("#swipebox-caption").append(t)},isVideo:function(e){return e&&(e.match(/youtube\.com\/watch\?v=([a-zA-Z0-9\-_]+)/)||e.match(/vimeo\.com\/([0-9]*)/)||e.match(/youtu\.be\/([a-zA-Z0-9\-_]+)/))?!0:void 0},getVideo:function(e){var t="",i=e.match(/watch\?v=([a-zA-Z0-9\-_]+)/),n=e.match(/youtu\.be\/([a-zA-Z0-9\-_]+)/),o=e.match(/vimeo\.com\/([0-9]*)/);return i||n?(n&&(i=n),t='<iframe width="560" height="315" src="//www.youtube.com/embed/'+i[1]+'" frameborder="0" allowfullscreen></iframe>'):o&&(t='<iframe width="560" height="315"  src="//player.vimeo.com/video/'+o[1]+"?byline=0&amp;portrait=0&amp;color="+c.settings.vimeoColor+'" frameborder="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe>'),'<div class="swipebox-video-container" style="max-width:'+c.settings.videomaxWidth+'px"><div class="swipebox-video">'+t+"</div></div>"},loadMedia:function(e,t){if(!this.isVideo(e)){var n=i("<img>").on("load",function(){t.call(n)});n.attr("src",e)}},getNext:function(){var e=this,t=i("#swipebox-slider .slide").index(i("#swipebox-slider .slide.current"));t+1<d.length?(t++,e.setSlide(t),e.preloadMedia(t+1)):(i("#swipebox-slider").addClass("rightSpring"),setTimeout(function(){i("#swipebox-slider").removeClass("rightSpring")},500))},getPrev:function(){var e=i("#swipebox-slider .slide").index(i("#swipebox-slider .slide.current"));e>0?(e--,this.setSlide(e),this.preloadMedia(e-1)):(i("#swipebox-slider").addClass("leftSpring"),setTimeout(function(){i("#swipebox-slider").removeClass("leftSpring")},500))},closeSlide:function(){i("html").removeClass("swipebox-html"),i("html").removeClass("swipebox-touch"),i(e).trigger("resize"),this.destroy()},destroy:function(){i(e).unbind("keyup"),i("body").unbind("touchstart"),i("body").unbind("touchmove"),i("body").unbind("touchend"),i("#swipebox-slider").unbind(),i("#swipebox-overlay").remove(),i.isArray(o)||o.removeData("_swipebox"),this.target&&this.target.trigger("swipebox-destroy"),i.swipebox.isOpen=!1,c.settings.afterClose&&c.settings.afterClose()}},c.init()},i.fn.swipebox=function(e){if(!i.data(this,"_swipebox")){var t=new i.swipebox(this,e);this.data("_swipebox",t)}return this.data("_swipebox")}}(window,document,jQuery),function(){var e=[].indexOf||function(e){for(var t=0,i=this.length;i>t;t++)if(t in this&&this[t]===e)return t;return-1},t=[].slice;!function(e,t){return"function"==typeof define&&define.amd?define("waypoints",["jquery"],function(i){return t(i,e)}):t(e.jQuery,e)}(this,function(i,n){var o,a,s,r,l,c,d,u,h,p,f,v,m,g,w,b;return o=i(n),u=e.call(n,"ontouchstart")>=0,r={horizontal:{},vertical:{}},l=1,d={},c="waypoints-context-id",f="resize.waypoints",v="scroll.waypoints",m=1,g="waypoints-waypoint-ids",w="waypoint",b="waypoints",a=function(){function e(e){var t=this;this.$element=e,this.element=e[0],this.didResize=!1,this.didScroll=!1,this.id="context"+l++,this.oldScroll={x:e.scrollLeft(),y:e.scrollTop()},this.waypoints={horizontal:{},vertical:{}},this.element[c]=this.id,d[this.id]=this,e.bind(v,function(){var e;return t.didScroll||u?void 0:(t.didScroll=!0,e=function(){return t.doScroll(),t.didScroll=!1},n.setTimeout(e,i[b].settings.scrollThrottle))}),e.bind(f,function(){var e;return t.didResize?void 0:(t.didResize=!0,e=function(){return i[b]("refresh"),t.didResize=!1},n.setTimeout(e,i[b].settings.resizeThrottle))})}return e.prototype.doScroll=function(){var e,t=this;return e={horizontal:{newScroll:this.$element.scrollLeft(),oldScroll:this.oldScroll.x,forward:"right",backward:"left"},vertical:{newScroll:this.$element.scrollTop(),oldScroll:this.oldScroll.y,forward:"down",backward:"up"}},!u||e.vertical.oldScroll&&e.vertical.newScroll||i[b]("refresh"),i.each(e,function(e,n){var o,a,s;return s=[],a=n.newScroll>n.oldScroll,o=a?n.forward:n.backward,i.each(t.waypoints[e],function(e,t){var i,o;return n.oldScroll<(i=t.offset)&&i<=n.newScroll?s.push(t):n.newScroll<(o=t.offset)&&o<=n.oldScroll?s.push(t):void 0}),s.sort(function(e,t){return e.offset-t.offset}),a||s.reverse(),i.each(s,function(e,t){return t.options.continuous||e===s.length-1?t.trigger([o]):void 0})}),this.oldScroll={x:e.horizontal.newScroll,y:e.vertical.newScroll}},e.prototype.refresh=function(){var e,t,n,o=this;return n=i.isWindow(this.element),t=this.$element.offset(),this.doScroll(),e={horizontal:{contextOffset:n?0:t.left,contextScroll:n?0:this.oldScroll.x,contextDimension:this.$element.width(),oldScroll:this.oldScroll.x,forward:"right",backward:"left",offsetProp:"left"},vertical:{contextOffset:n?0:t.top,contextScroll:n?0:this.oldScroll.y,contextDimension:n?i[b]("viewportHeight"):this.$element.height(),oldScroll:this.oldScroll.y,forward:"down",backward:"up",offsetProp:"top"}},i.each(e,function(e,t){return i.each(o.waypoints[e],function(e,n){var o,a,s,r,l;return o=n.options.offset,s=n.offset,a=i.isWindow(n.element)?0:n.$element.offset()[t.offsetProp],i.isFunction(o)?o=o.apply(n.element):"string"==typeof o&&(o=parseFloat(o),n.options.offset.indexOf("%")>-1&&(o=Math.ceil(t.contextDimension*o/100))),n.offset=a-t.contextOffset+t.contextScroll-o,n.options.onlyOnScroll&&null!=s||!n.enabled?void 0:null!==s&&s<(r=t.oldScroll)&&r<=n.offset?n.trigger([t.backward]):null!==s&&s>(l=t.oldScroll)&&l>=n.offset?n.trigger([t.forward]):null===s&&t.oldScroll>=n.offset?n.trigger([t.forward]):void 0})})},e.prototype.checkEmpty=function(){return i.isEmptyObject(this.waypoints.horizontal)&&i.isEmptyObject(this.waypoints.vertical)?(this.$element.unbind([f,v].join(" ")),delete d[this.id]):void 0},e}(),s=function(){function e(e,t,n){var o,a;n=i.extend({},i.fn[w].defaults,n),"bottom-in-view"===n.offset&&(n.offset=function(){var e;return e=i[b]("viewportHeight"),i.isWindow(t.element)||(e=t.$element.height()),e-i(this).outerHeight()}),this.$element=e,this.element=e[0],this.axis=n.horizontal?"horizontal":"vertical",this.callback=n.handler,this.context=t,this.enabled=n.enabled,this.id="waypoints"+m++,this.offset=null,this.options=n,t.waypoints[this.axis][this.id]=this,r[this.axis][this.id]=this,o=null!=(a=this.element[g])?a:[],o.push(this.id),this.element[g]=o}return e.prototype.trigger=function(e){return this.enabled?(null!=this.callback&&this.callback.apply(this.element,e),this.options.triggerOnce?this.destroy():void 0):void 0},e.prototype.disable=function(){return this.enabled=!1},e.prototype.enable=function(){return this.context.refresh(),this.enabled=!0},e.prototype.destroy=function(){return delete r[this.axis][this.id],delete this.context.waypoints[this.axis][this.id],this.context.checkEmpty()},e.getWaypointsByElement=function(e){var t,n;return(n=e[g])?(t=i.extend({},r.horizontal,r.vertical),i.map(n,function(e){return t[e]})):[]},e}(),p={init:function(e,t){var n;return null==t&&(t={}),null==(n=t.handler)&&(t.handler=e),this.each(function(){var e,n,o,r;return e=i(this),o=null!=(r=t.context)?r:i.fn[w].defaults.context,i.isWindow(o)||(o=e.closest(o)),o=i(o),n=d[o[0][c]],n||(n=new a(o)),new s(e,n,t)}),i[b]("refresh"),this},disable:function(){return p._invoke.call(this,"disable")},enable:function(){return p._invoke.call(this,"enable")},destroy:function(){return p._invoke.call(this,"destroy")},prev:function(e,t){return p._traverse.call(this,e,t,function(e,t,i){return t>0?e.push(i[t-1]):void 0})},next:function(e,t){return p._traverse.call(this,e,t,function(e,t,i){return t<i.length-1?e.push(i[t+1]):void 0})},_traverse:function(e,t,o){var a,s;return null==e&&(e="vertical"),null==t&&(t=n),s=h.aggregate(t),a=[],this.each(function(){var t;return t=i.inArray(this,s[e]),o(a,t,s[e])}),this.pushStack(a)},_invoke:function(e){return this.each(function(){var t;return t=s.getWaypointsByElement(this),i.each(t,function(t,i){return i[e](),!0})}),this}},i.fn[w]=function(){var e,n;return n=arguments[0],e=2<=arguments.length?t.call(arguments,1):[],p[n]?p[n].apply(this,e):i.isFunction(n)?p.init.apply(this,arguments):i.isPlainObject(n)?p.init.apply(this,[null,n]):n?i.error("The "+n+" method does not exist in jQuery Waypoints."):i.error("jQuery Waypoints needs a callback function or handler option.")},i.fn[w].defaults={context:n,continuous:!0,enabled:!0,horizontal:!1,offset:0,triggerOnce:!1},h={refresh:function(){return i.each(d,function(e,t){return t.refresh()})},viewportHeight:function(){var e;return null!=(e=n.innerHeight)?e:o.height()},aggregate:function(e){var t,n,o;return t=r,e&&(t=null!=(o=d[i(e)[0][c]])?o.waypoints:void 0),t?(n={horizontal:[],vertical:[]},i.each(n,function(e,o){return i.each(t[e],function(e,t){return o.push(t)}),o.sort(function(e,t){return e.offset-t.offset}),n[e]=i.map(o,function(e){return e.element}),n[e]=i.unique(n[e])}),n):[]},above:function(e){return null==e&&(e=n),h._filter(e,"vertical",function(e,t){return t.offset<=e.oldScroll.y})},below:function(e){return null==e&&(e=n),h._filter(e,"vertical",function(e,t){return t.offset>e.oldScroll.y})},left:function(e){return null==e&&(e=n),h._filter(e,"horizontal",function(e,t){return t.offset<=e.oldScroll.x})},right:function(e){return null==e&&(e=n),h._filter(e,"horizontal",function(e,t){return t.offset>e.oldScroll.x})},enable:function(){return h._invoke("enable")},disable:function(){return h._invoke("disable")},destroy:function(){return h._invoke("destroy")},extendFn:function(e,t){return p[e]=t},_invoke:function(e){var t;return t=i.extend({},r.vertical,r.horizontal),i.each(t,function(t,i){return i[e](),!0})},_filter:function(e,t,n){var o,a;return(o=d[i(e)[0][c]])?(a=[],i.each(o.waypoints[t],function(e,t){return n(o,t)?a.push(t):void 0}),a.sort(function(e,t){return e.offset-t.offset}),i.map(a,function(e){return e.element})):[]}},i[b]=function(){var e,i;return i=arguments[0],e=2<=arguments.length?t.call(arguments,1):[],h[i]?h[i].apply(null,e):h.aggregate.call(null,i)},i[b].settings={resizeThrottle:100,scrollThrottle:30},o.load(function(){return i[b]("refresh")})})}.call(this),function(e,t,i){function n(e){var t={},n=/^jQuery\d+$/;return i.each(e.attributes,function(e,i){i.specified&&!n.test(i.name)&&(t[i.name]=i.value)}),t}function o(e,t){var n=this,o=i(n);if(n.value==o.attr("placeholder")&&o.hasClass("placeholder"))if(o.data("placeholder-password")){if(o=o.hide().next().show().attr("id",o.removeAttr("id").data("placeholder-id")),e===!0)return o[0].value=t;o.focus()}else n.value="",o.removeClass("placeholder"),n==s()&&n.select()}function a(){var e,t=this,a=i(t),s=this.id;if(""==t.value){if("password"==t.type){if(!a.data("placeholder-textinput")){try{e=a.clone().attr({type:"text"})}catch(r){e=i("<input>").attr(i.extend(n(this),{type:"text"}))}e.removeAttr("name").data({"placeholder-password":a,"placeholder-id":s}).bind("focus.placeholder",o),a.data({"placeholder-textinput":e,"placeholder-id":s}).before(e)}a=a.removeAttr("id").hide().prev().attr("id",s).show()}a.addClass("placeholder"),a[0].value=a.attr("placeholder")}else a.removeClass("placeholder")}function s(){try{return t.activeElement}catch(e){}}var r,l,c="[object OperaMini]"==Object.prototype.toString.call(e.operamini),d="placeholder"in t.createElement("input")&&!c,u="placeholder"in t.createElement("textarea")&&!c,h=i.fn,p=i.valHooks,f=i.propHooks;d&&u?(l=h.placeholder=function(){return this},l.input=l.textarea=!0):(l=h.placeholder=function(){var e=this;return e.filter((d?"textarea":":input")+"[placeholder]").not(".placeholder").bind({"focus.placeholder":o,"blur.placeholder":a}).data("placeholder-enabled",!0).trigger("blur.placeholder"),e},l.input=d,l.textarea=u,r={get:function(e){var t=i(e),n=t.data("placeholder-password");return n?n[0].value:t.data("placeholder-enabled")&&t.hasClass("placeholder")?"":e.value},set:function(e,t){var n=i(e),r=n.data("placeholder-password");return r?r[0].value=t:n.data("placeholder-enabled")?(""==t?(e.value=t,e!=s()&&a.call(e)):n.hasClass("placeholder")?o.call(e,!0,t)||(e.value=t):e.value=t,n):e.value=t}},d||(p.input=r,f.value=r),u||(p.textarea=r,f.value=r),i(function(){i(t).delegate("form","submit.placeholder",function(){var e=i(".placeholder",this).each(o);setTimeout(function(){e.each(a)},10)})}),i(e).bind("beforeunload.placeholder",function(){i(".placeholder").each(function(){this.value=""})}))}(this,document,jQuery),/*!
 * jQuery FlexSlider v2.2.0
 * Copyright 2012 WooThemes
 * Contributing Author: Tyler Smith
 */
function(e){e.flexslider=function(t,i){var n=e(t);n.vars=e.extend({},e.flexslider.defaults,i);var o,a=n.vars.namespace,s=window.navigator&&window.navigator.msPointerEnabled&&window.MSGesture,r=("ontouchstart"in window||s||window.DocumentTouch&&document instanceof DocumentTouch)&&n.vars.touch,l="click touchend MSPointerUp",c="",d="vertical"===n.vars.direction,u=n.vars.reverse,h=n.vars.itemWidth>0,p="fade"===n.vars.animation,f=""!==n.vars.asNavFor,v={},m=!0;e.data(t,"flexslider",n),v={init:function(){n.animating=!1,n.currentSlide=parseInt(n.vars.startAt?n.vars.startAt:0),isNaN(n.currentSlide)&&(n.currentSlide=0),n.animatingTo=n.currentSlide,n.atEnd=0===n.currentSlide||n.currentSlide===n.last,n.containerSelector=n.vars.selector.substr(0,n.vars.selector.search(" ")),n.slides=e(n.vars.selector,n),n.container=e(n.containerSelector,n),n.count=n.slides.length,n.syncExists=e(n.vars.sync).length>0,"slide"===n.vars.animation&&(n.vars.animation="swing"),n.prop=d?"top":"marginLeft",n.args={},n.manualPause=!1,n.stopped=!1,n.started=!1,n.startTimeout=null,n.transitions=!n.vars.video&&!p&&n.vars.useCSS&&function(){var e=document.createElement("div"),t=["perspectiveProperty","WebkitPerspective","MozPerspective","OPerspective","msPerspective"];for(var i in t)if(void 0!==e.style[t[i]])return n.pfx=t[i].replace("Perspective","").toLowerCase(),n.prop="-"+n.pfx+"-transform",!0;return!1}(),""!==n.vars.controlsContainer&&(n.controlsContainer=e(n.vars.controlsContainer).length>0&&e(n.vars.controlsContainer)),""!==n.vars.manualControls&&(n.manualControls=e(n.vars.manualControls).length>0&&e(n.vars.manualControls)),n.vars.randomize&&(n.slides.sort(function(){return Math.round(Math.random())-.5}),n.container.empty().append(n.slides)),n.doMath(),n.setup("init"),n.vars.controlNav&&v.controlNav.setup(),n.vars.directionNav&&v.directionNav.setup(),n.vars.keyboard&&(1===e(n.containerSelector).length||n.vars.multipleKeyboard)&&e(document).bind("keyup",function(e){var t=e.keyCode;if(!n.animating&&(39===t||37===t)){var i=39===t?n.getTarget("next"):37===t?n.getTarget("prev"):!1;n.flexAnimate(i,n.vars.pauseOnAction)}}),n.vars.mousewheel&&n.bind("mousewheel",function(e,t){e.preventDefault();var i=0>t?n.getTarget("next"):n.getTarget("prev");n.flexAnimate(i,n.vars.pauseOnAction)}),n.vars.pausePlay&&v.pausePlay.setup(),n.vars.slideshow&&n.vars.pauseInvisible&&v.pauseInvisible.init(),n.vars.slideshow&&(n.vars.pauseOnHover&&n.hover(function(){!n.manualPlay&&!n.manualPause&&n.pause()},function(){!n.manualPause&&!n.manualPlay&&!n.stopped&&n.play()}),n.vars.pauseInvisible&&v.pauseInvisible.isHidden()||(n.vars.initDelay>0?n.startTimeout=setTimeout(n.play,n.vars.initDelay):n.play())),f&&v.asNav.setup(),r&&n.vars.touch&&v.touch(),(!p||p&&n.vars.smoothHeight)&&e(window).bind("resize orientationchange focus",v.resize),n.find("img").attr("draggable","false"),setTimeout(function(){n.vars.start(n)},200)},asNav:{setup:function(){n.asNav=!0,n.animatingTo=Math.floor(n.currentSlide/n.move),n.currentItem=n.currentSlide,n.slides.removeClass(a+"active-slide").eq(n.currentItem).addClass(a+"active-slide"),s?(t._slider=n,n.slides.each(function(){var t=this;t._gesture=new MSGesture,t._gesture.target=t,t.addEventListener("MSPointerDown",function(e){e.preventDefault(),e.currentTarget._gesture&&e.currentTarget._gesture.addPointer(e.pointerId)},!1),t.addEventListener("MSGestureTap",function(t){t.preventDefault();var i=e(this),o=i.index();e(n.vars.asNavFor).data("flexslider").animating||i.hasClass("active")||(n.direction=n.currentItem<o?"next":"prev",n.flexAnimate(o,n.vars.pauseOnAction,!1,!0,!0))})})):n.slides.click(function(t){t.preventDefault();var i=e(this),o=i.index(),s=i.offset().left-e(n).scrollLeft();0>=s&&i.hasClass(a+"active-slide")?n.flexAnimate(n.getTarget("prev"),!0):e(n.vars.asNavFor).data("flexslider").animating||i.hasClass(a+"active-slide")||(n.direction=n.currentItem<o?"next":"prev",n.flexAnimate(o,n.vars.pauseOnAction,!1,!0,!0))})}},controlNav:{setup:function(){n.manualControls?v.controlNav.setupManual():v.controlNav.setupPaging()},setupPaging:function(){var t,i,o="thumbnails"===n.vars.controlNav?"control-thumbs":"control-paging",s=1;if(n.controlNavScaffold=e('<ol class="'+a+"control-nav "+a+o+'"></ol>'),n.pagingCount>1)for(var r=0;r<n.pagingCount;r++){if(i=n.slides.eq(r),t="thumbnails"===n.vars.controlNav?'<img src="'+i.attr("data-thumb")+'"/>':"<a>"+s+"</a>","thumbnails"===n.vars.controlNav&&!0===n.vars.thumbCaptions){var d=i.attr("data-thumbcaption");""!=d&&void 0!=d&&(t+='<span class="'+a+'caption">'+d+"</span>")}n.controlNavScaffold.append("<li>"+t+"</li>"),s++}n.controlsContainer?e(n.controlsContainer).append(n.controlNavScaffold):n.append(n.controlNavScaffold),v.controlNav.set(),v.controlNav.active(),n.controlNavScaffold.delegate("a, img",l,function(t){if(t.preventDefault(),""===c||c===t.type){var i=e(this),o=n.controlNav.index(i);i.hasClass(a+"active")||(n.direction=o>n.currentSlide?"next":"prev",n.flexAnimate(o,n.vars.pauseOnAction))}""===c&&(c=t.type),v.setToClearWatchedEvent()})},setupManual:function(){n.controlNav=n.manualControls,v.controlNav.active(),n.controlNav.bind(l,function(t){if(t.preventDefault(),""===c||c===t.type){var i=e(this),o=n.controlNav.index(i);i.hasClass(a+"active")||(n.direction=o>n.currentSlide?"next":"prev",n.flexAnimate(o,n.vars.pauseOnAction))}""===c&&(c=t.type),v.setToClearWatchedEvent()})},set:function(){var t="thumbnails"===n.vars.controlNav?"img":"a";n.controlNav=e("."+a+"control-nav li "+t,n.controlsContainer?n.controlsContainer:n)},active:function(){n.controlNav.removeClass(a+"active").eq(n.animatingTo).addClass(a+"active")},update:function(t,i){n.pagingCount>1&&"add"===t?n.controlNavScaffold.append(e("<li><a>"+n.count+"</a></li>")):1===n.pagingCount?n.controlNavScaffold.find("li").remove():n.controlNav.eq(i).closest("li").remove(),v.controlNav.set(),n.pagingCount>1&&n.pagingCount!==n.controlNav.length?n.update(i,t):v.controlNav.active()}},directionNav:{setup:function(){var t=e('<ul class="'+a+'direction-nav"><li><a class="'+a+'prev" href="#">'+n.vars.prevText+'</a></li><li><a class="'+a+'next" href="#">'+n.vars.nextText+"</a></li></ul>");n.controlsContainer?(e(n.controlsContainer).append(t),n.directionNav=e("."+a+"direction-nav li a",n.controlsContainer)):(n.append(t),n.directionNav=e("."+a+"direction-nav li a",n)),v.directionNav.update(),n.directionNav.bind(l,function(t){t.preventDefault();var i;(""===c||c===t.type)&&(i=e(this).hasClass(a+"next")?n.getTarget("next"):n.getTarget("prev"),n.flexAnimate(i,n.vars.pauseOnAction)),""===c&&(c=t.type),v.setToClearWatchedEvent()})},update:function(){var e=a+"disabled";1===n.pagingCount?n.directionNav.addClass(e).attr("tabindex","-1"):n.vars.animationLoop?n.directionNav.removeClass(e).removeAttr("tabindex"):0===n.animatingTo?n.directionNav.removeClass(e).filter("."+a+"prev").addClass(e).attr("tabindex","-1"):n.animatingTo===n.last?n.directionNav.removeClass(e).filter("."+a+"next").addClass(e).attr("tabindex","-1"):n.directionNav.removeClass(e).removeAttr("tabindex")}},pausePlay:{setup:function(){var t=e('<div class="'+a+'pauseplay"><a></a></div>');n.controlsContainer?(n.controlsContainer.append(t),n.pausePlay=e("."+a+"pauseplay a",n.controlsContainer)):(n.append(t),n.pausePlay=e("."+a+"pauseplay a",n)),v.pausePlay.update(n.vars.slideshow?a+"pause":a+"play"),n.pausePlay.bind(l,function(t){t.preventDefault(),(""===c||c===t.type)&&(e(this).hasClass(a+"pause")?(n.manualPause=!0,n.manualPlay=!1,n.pause()):(n.manualPause=!1,n.manualPlay=!0,n.play())),""===c&&(c=t.type),v.setToClearWatchedEvent()})},update:function(e){"play"===e?n.pausePlay.removeClass(a+"pause").addClass(a+"play").html(n.vars.playText):n.pausePlay.removeClass(a+"play").addClass(a+"pause").html(n.vars.pauseText)}},touch:function(){function e(e){n.animating?e.preventDefault():(window.navigator.msPointerEnabled||1===e.touches.length)&&(n.pause(),m=d?n.h:n.w,w=Number(new Date),x=e.touches[0].pageX,y=e.touches[0].pageY,v=h&&u&&n.animatingTo===n.last?0:h&&u?n.limit-(n.itemW+n.vars.itemMargin)*n.move*n.animatingTo:h&&n.currentSlide===n.last?n.limit:h?(n.itemW+n.vars.itemMargin)*n.move*n.currentSlide:u?(n.last-n.currentSlide+n.cloneOffset)*m:(n.currentSlide+n.cloneOffset)*m,c=d?y:x,f=d?x:y,t.addEventListener("touchmove",i,!1),t.addEventListener("touchend",o,!1))}function i(e){x=e.touches[0].pageX,y=e.touches[0].pageY,g=d?c-y:c-x,b=d?Math.abs(g)<Math.abs(x-f):Math.abs(g)<Math.abs(y-f);var t=500;(!b||Number(new Date)-w>t)&&(e.preventDefault(),!p&&n.transitions&&(n.vars.animationLoop||(g/=0===n.currentSlide&&0>g||n.currentSlide===n.last&&g>0?Math.abs(g)/m+2:1),n.setProps(v+g,"setTouch")))}function o(){if(t.removeEventListener("touchmove",i,!1),n.animatingTo===n.currentSlide&&!b&&null!==g){var e=u?-g:g,a=e>0?n.getTarget("next"):n.getTarget("prev");n.canAdvance(a)&&(Number(new Date)-w<550&&Math.abs(e)>50||Math.abs(e)>m/2)?n.flexAnimate(a,n.vars.pauseOnAction):p||n.flexAnimate(n.currentSlide,n.vars.pauseOnAction,!0)}t.removeEventListener("touchend",o,!1),c=null,f=null,g=null,v=null}function a(e){e.stopPropagation(),n.animating?e.preventDefault():(n.pause(),t._gesture.addPointer(e.pointerId),S=0,m=d?n.h:n.w,w=Number(new Date),v=h&&u&&n.animatingTo===n.last?0:h&&u?n.limit-(n.itemW+n.vars.itemMargin)*n.move*n.animatingTo:h&&n.currentSlide===n.last?n.limit:h?(n.itemW+n.vars.itemMargin)*n.move*n.currentSlide:u?(n.last-n.currentSlide+n.cloneOffset)*m:(n.currentSlide+n.cloneOffset)*m)}function r(e){e.stopPropagation();var i=e.target._slider;if(i){var n=-e.translationX,o=-e.translationY;return S+=d?o:n,g=S,b=d?Math.abs(S)<Math.abs(-n):Math.abs(S)<Math.abs(-o),e.detail===e.MSGESTURE_FLAG_INERTIA?(setImmediate(function(){t._gesture.stop()}),void 0):((!b||Number(new Date)-w>500)&&(e.preventDefault(),!p&&i.transitions&&(i.vars.animationLoop||(g=S/(0===i.currentSlide&&0>S||i.currentSlide===i.last&&S>0?Math.abs(S)/m+2:1)),i.setProps(v+g,"setTouch"))),void 0)}}function l(e){e.stopPropagation();var t=e.target._slider;if(t){if(t.animatingTo===t.currentSlide&&!b&&null!==g){var i=u?-g:g,n=i>0?t.getTarget("next"):t.getTarget("prev");t.canAdvance(n)&&(Number(new Date)-w<550&&Math.abs(i)>50||Math.abs(i)>m/2)?t.flexAnimate(n,t.vars.pauseOnAction):p||t.flexAnimate(t.currentSlide,t.vars.pauseOnAction,!0)}c=null,f=null,g=null,v=null,S=0}}var c,f,v,m,g,w,b=!1,x=0,y=0,S=0;s?(t.style.msTouchAction="none",t._gesture=new MSGesture,t._gesture.target=t,t.addEventListener("MSPointerDown",a,!1),t._slider=n,t.addEventListener("MSGestureChange",r,!1),t.addEventListener("MSGestureEnd",l,!1)):t.addEventListener("touchstart",e,!1)},resize:function(){!n.animating&&n.is(":visible")&&(h||n.doMath(),p?v.smoothHeight():h?(n.slides.width(n.computedW),n.update(n.pagingCount),n.setProps()):d?(n.viewport.height(n.h),n.setProps(n.h,"setTotal")):(n.vars.smoothHeight&&v.smoothHeight(),n.newSlides.width(n.computedW),n.setProps(n.computedW,"setTotal")))},smoothHeight:function(e){if(!d||p){var t=p?n:n.viewport;e?t.animate({height:n.slides.eq(n.animatingTo).height()},e):t.height(n.slides.eq(n.animatingTo).height())}},sync:function(t){var i=e(n.vars.sync).data("flexslider"),o=n.animatingTo;switch(t){case"animate":i.flexAnimate(o,n.vars.pauseOnAction,!1,!0);break;case"play":!i.playing&&!i.asNav&&i.play();break;case"pause":i.pause()}},pauseInvisible:{visProp:null,init:function(){var e=["webkit","moz","ms","o"];if("hidden"in document)return"hidden";for(var t=0;t<e.length;t++)e[t]+"Hidden"in document&&(v.pauseInvisible.visProp=e[t]+"Hidden");if(v.pauseInvisible.visProp){var i=v.pauseInvisible.visProp.replace(/[H|h]idden/,"")+"visibilitychange";document.addEventListener(i,function(){v.pauseInvisible.isHidden()?n.startTimeout?clearTimeout(n.startTimeout):n.pause():n.started?n.play():n.vars.initDelay>0?setTimeout(n.play,n.vars.initDelay):n.play()})}},isHidden:function(){return document[v.pauseInvisible.visProp]||!1}},setToClearWatchedEvent:function(){clearTimeout(o),o=setTimeout(function(){c=""},3e3)}},n.flexAnimate=function(t,i,o,s,l){if(!n.vars.animationLoop&&t!==n.currentSlide&&(n.direction=t>n.currentSlide?"next":"prev"),f&&1===n.pagingCount&&(n.direction=n.currentItem<t?"next":"prev"),!n.animating&&(n.canAdvance(t,l)||o)&&n.is(":visible")){if(f&&s){var c=e(n.vars.asNavFor).data("flexslider");if(n.atEnd=0===t||t===n.count-1,c.flexAnimate(t,!0,!1,!0,l),n.direction=n.currentItem<t?"next":"prev",c.direction=n.direction,Math.ceil((t+1)/n.visible)-1===n.currentSlide||0===t)return n.currentItem=t,n.slides.removeClass(a+"active-slide").eq(t).addClass(a+"active-slide"),!1;n.currentItem=t,n.slides.removeClass(a+"active-slide").eq(t).addClass(a+"active-slide"),t=Math.floor(t/n.visible)}if(n.animating=!0,n.animatingTo=t,i&&n.pause(),n.vars.before(n),n.syncExists&&!l&&v.sync("animate"),n.vars.controlNav&&v.controlNav.active(),h||n.slides.removeClass(a+"active-slide").eq(t).addClass(a+"active-slide"),n.atEnd=0===t||t===n.last,n.vars.directionNav&&v.directionNav.update(),t===n.last&&(n.vars.end(n),n.vars.animationLoop||n.pause()),p)r?(n.slides.eq(n.currentSlide).css({opacity:0,zIndex:1}),n.slides.eq(t).css({opacity:1,zIndex:2}),n.wrapup(b)):(n.slides.eq(n.currentSlide).css({zIndex:1}).animate({opacity:0},n.vars.animationSpeed,n.vars.easing),n.slides.eq(t).css({zIndex:2}).animate({opacity:1},n.vars.animationSpeed,n.vars.easing,n.wrapup));else{var m,g,w,b=d?n.slides.filter(":first").height():n.computedW;h?(m=n.vars.itemMargin,w=(n.itemW+m)*n.move*n.animatingTo,g=w>n.limit&&1!==n.visible?n.limit:w):g=0===n.currentSlide&&t===n.count-1&&n.vars.animationLoop&&"next"!==n.direction?u?(n.count+n.cloneOffset)*b:0:n.currentSlide===n.last&&0===t&&n.vars.animationLoop&&"prev"!==n.direction?u?0:(n.count+1)*b:u?(n.count-1-t+n.cloneOffset)*b:(t+n.cloneOffset)*b,n.setProps(g,"",n.vars.animationSpeed),n.transitions?(n.vars.animationLoop&&n.atEnd||(n.animating=!1,n.currentSlide=n.animatingTo),n.container.unbind("webkitTransitionEnd transitionend"),n.container.bind("webkitTransitionEnd transitionend",function(){n.wrapup(b)})):n.container.animate(n.args,n.vars.animationSpeed,n.vars.easing,function(){n.wrapup(b)})}n.vars.smoothHeight&&v.smoothHeight(n.vars.animationSpeed)}},n.wrapup=function(e){!p&&!h&&(0===n.currentSlide&&n.animatingTo===n.last&&n.vars.animationLoop?n.setProps(e,"jumpEnd"):n.currentSlide===n.last&&0===n.animatingTo&&n.vars.animationLoop&&n.setProps(e,"jumpStart")),n.animating=!1,n.currentSlide=n.animatingTo,n.vars.after(n)},n.animateSlides=function(){!n.animating&&m&&n.flexAnimate(n.getTarget("next"))},n.pause=function(){clearInterval(n.animatedSlides),n.animatedSlides=null,n.playing=!1,n.vars.pausePlay&&v.pausePlay.update("play"),n.syncExists&&v.sync("pause")},n.play=function(){n.playing&&clearInterval(n.animatedSlides),n.animatedSlides=n.animatedSlides||setInterval(n.animateSlides,n.vars.slideshowSpeed),n.started=n.playing=!0,n.vars.pausePlay&&v.pausePlay.update("pause"),n.syncExists&&v.sync("play")},n.stop=function(){n.pause(),n.stopped=!0},n.canAdvance=function(e,t){var i=f?n.pagingCount-1:n.last;return t?!0:f&&n.currentItem===n.count-1&&0===e&&"prev"===n.direction?!0:f&&0===n.currentItem&&e===n.pagingCount-1&&"next"!==n.direction?!1:e!==n.currentSlide||f?n.vars.animationLoop?!0:n.atEnd&&0===n.currentSlide&&e===i&&"next"!==n.direction?!1:n.atEnd&&n.currentSlide===i&&0===e&&"next"===n.direction?!1:!0:!1},n.getTarget=function(e){return n.direction=e,"next"===e?n.currentSlide===n.last?0:n.currentSlide+1:0===n.currentSlide?n.last:n.currentSlide-1},n.setProps=function(e,t,i){var o=function(){var i=e?e:(n.itemW+n.vars.itemMargin)*n.move*n.animatingTo,o=function(){if(h)return"setTouch"===t?e:u&&n.animatingTo===n.last?0:u?n.limit-(n.itemW+n.vars.itemMargin)*n.move*n.animatingTo:n.animatingTo===n.last?n.limit:i;switch(t){case"setTotal":return u?(n.count-1-n.currentSlide+n.cloneOffset)*e:(n.currentSlide+n.cloneOffset)*e;case"setTouch":return u?e:e;case"jumpEnd":return u?e:n.count*e;case"jumpStart":return u?n.count*e:e;default:return e}}();return-1*o+"px"}();n.transitions&&(o=d?"translate3d(0,"+o+",0)":"translate3d("+o+",0,0)",i=void 0!==i?i/1e3+"s":"0s",n.container.css("-"+n.pfx+"-transition-duration",i)),n.args[n.prop]=o,(n.transitions||void 0===i)&&n.container.css(n.args)},n.setup=function(t){if(p)n.slides.css({width:"100%","float":"left",marginRight:"-100%",position:"relative"}),"init"===t&&(r?n.slides.css({opacity:0,display:"block",webkitTransition:"opacity "+n.vars.animationSpeed/1e3+"s ease",zIndex:1}).eq(n.currentSlide).css({opacity:1,zIndex:2}):n.slides.css({opacity:0,display:"block",zIndex:1}).eq(n.currentSlide).css({zIndex:2}).animate({opacity:1},n.vars.animationSpeed,n.vars.easing)),n.vars.smoothHeight&&v.smoothHeight();else{var i,o;"init"===t&&(n.viewport=e('<div class="'+a+'viewport"></div>').css({overflow:"hidden",position:"relative"}).appendTo(n).append(n.container),n.cloneCount=0,n.cloneOffset=0,u&&(o=e.makeArray(n.slides).reverse(),n.slides=e(o),n.container.empty().append(n.slides))),n.vars.animationLoop&&!h&&(n.cloneCount=2,n.cloneOffset=1,"init"!==t&&n.container.find(".clone").remove(),n.container.append(n.slides.first().clone().addClass("clone").attr("aria-hidden","true")).prepend(n.slides.last().clone().addClass("clone").attr("aria-hidden","true"))),n.newSlides=e(n.vars.selector,n),i=u?n.count-1-n.currentSlide+n.cloneOffset:n.currentSlide+n.cloneOffset,d&&!h?(n.container.height(200*(n.count+n.cloneCount)+"%").css("position","absolute").width("100%"),setTimeout(function(){n.newSlides.css({display:"block"}),n.doMath(),n.viewport.height(n.h),n.setProps(i*n.h,"init")},"init"===t?100:0)):(n.container.width(200*(n.count+n.cloneCount)+"%"),n.setProps(i*n.computedW,"init"),setTimeout(function(){n.doMath(),n.newSlides.css({width:n.computedW,"float":"left",display:"block"}),n.vars.smoothHeight&&v.smoothHeight()},"init"===t?100:0))}h||n.slides.removeClass(a+"active-slide").eq(n.currentSlide).addClass(a+"active-slide")},n.doMath=function(){var e=n.slides.first(),t=n.vars.itemMargin,i=n.vars.minItems,o=n.vars.maxItems;n.w=void 0===n.viewport?n.width():n.viewport.width(),n.h=e.height(),n.boxPadding=e.outerWidth()-e.width(),h?(n.itemT=n.vars.itemWidth+t,n.minW=i?i*n.itemT:n.w,n.maxW=o?o*n.itemT-t:n.w,n.itemW=n.minW>n.w?(n.w-t*(i-1))/i:n.maxW<n.w?(n.w-t*(o-1))/o:n.vars.itemWidth>n.w?n.w:n.vars.itemWidth,n.visible=Math.floor(n.w/n.itemW),n.move=n.vars.move>0&&n.vars.move<n.visible?n.vars.move:n.visible,n.pagingCount=Math.ceil((n.count-n.visible)/n.move+1),n.last=n.pagingCount-1,n.limit=1===n.pagingCount?0:n.vars.itemWidth>n.w?n.itemW*(n.count-1)+t*(n.count-1):(n.itemW+t)*n.count-n.w-t):(n.itemW=n.w,n.pagingCount=n.count,n.last=n.count-1),n.computedW=n.itemW-n.boxPadding},n.update=function(e,t){n.doMath(),h||(e<n.currentSlide?n.currentSlide+=1:e<=n.currentSlide&&0!==e&&(n.currentSlide-=1),n.animatingTo=n.currentSlide),n.vars.controlNav&&!n.manualControls&&("add"===t&&!h||n.pagingCount>n.controlNav.length?v.controlNav.update("add"):("remove"===t&&!h||n.pagingCount<n.controlNav.length)&&(h&&n.currentSlide>n.last&&(n.currentSlide-=1,n.animatingTo-=1),v.controlNav.update("remove",n.last))),n.vars.directionNav&&v.directionNav.update()},n.addSlide=function(t,i){var o=e(t);n.count+=1,n.last=n.count-1,d&&u?void 0!==i?n.slides.eq(n.count-i).after(o):n.container.prepend(o):void 0!==i?n.slides.eq(i).before(o):n.container.append(o),n.update(i,"add"),n.slides=e(n.vars.selector+":not(.clone)",n),n.setup(),n.vars.added(n)},n.removeSlide=function(t){var i=isNaN(t)?n.slides.index(e(t)):t;n.count-=1,n.last=n.count-1,isNaN(t)?e(t,n.slides).remove():d&&u?n.slides.eq(n.last).remove():n.slides.eq(t).remove(),n.doMath(),n.update(i,"remove"),n.slides=e(n.vars.selector+":not(.clone)",n),n.setup(),n.vars.removed(n)},v.init()},e(window).blur(function(){focused=!1}).focus(function(){focused=!0}),e.flexslider.defaults={namespace:"flex-",selector:".slides > li",animation:"fade",easing:"swing",direction:"horizontal",reverse:!1,animationLoop:!0,smoothHeight:!1,startAt:0,slideshow:!0,slideshowSpeed:7e3,animationSpeed:600,initDelay:0,randomize:!1,thumbCaptions:!1,pauseOnAction:!0,pauseOnHover:!1,pauseInvisible:!0,useCSS:!0,touch:!0,video:!1,controlNav:!0,directionNav:!0,prevText:"Previous",nextText:"Next",keyboard:!0,multipleKeyboard:!1,mousewheel:!1,pausePlay:!1,pauseText:"Pause",playText:"Play",controlsContainer:"",manualControls:"",sync:"",asNavFor:"",itemWidth:0,itemMargin:0,minItems:1,maxItems:0,move:0,allowOneSlide:!0,start:function(){},before:function(){},after:function(){},end:function(){},added:function(){},removed:function(){}},e.fn.flexslider=function(t){if(void 0===t&&(t={}),"object"==typeof t)return this.each(function(){var i=e(this),n=t.selector?t.selector:".slides > li",o=i.find(n);1===o.length&&t.allowOneSlide===!0||0===o.length?(o.fadeIn(400),t.start&&t.start(i)):void 0===i.data("flexslider")&&new e.flexslider(this,t)});var i=e(this).data("flexslider");switch(t){case"play":i.play();break;case"pause":i.pause();break;case"stop":i.stop();break;case"next":i.flexAnimate(i.getTarget("next"),!0);break;case"prev":case"previous":i.flexAnimate(i.getTarget("prev"),!0);break;default:"number"==typeof t&&i.flexAnimate(t,!0)}}}(jQuery);